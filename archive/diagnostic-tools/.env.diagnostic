# ============================================
# DIAGNOSTIC ENVIRONMENT CONFIGURATION
# ============================================
# This file configures the diagnostic docker-compose stack
# Copy your production values from .env to test the same configuration locally

# IMPORTANT: This diagnostic stack connects to your REMOTE Cosmos DB
# Make sure your local IP is allowed in Cosmos DB firewall rules!

# ============================================
# Cosmos DB Connection (REQUIRED)
# ============================================
# Copy the EXACT connection string from your production .env
# Format: mongodb://account:key@account.mongo.cosmos.azure.com:10255/parse?ssl=true&replicaSet=globaldb&retrywrites=false&maxIdleTimeMS=120000&appName=ParseServer
PARSE_SERVER_DATABASE_URI=

# ============================================
# Parse Server Configuration (REQUIRED)
# ============================================
# Use the SAME credentials as your Azure deployment
PARSE_SERVER_APPLICATION_ID=your_unique_app_id
PARSE_SERVER_MASTER_KEY=your_secure_master_key

# ============================================
# Parse Dashboard Configuration (REQUIRED)
# ============================================
PARSE_DASHBOARD_APP_NAME=YourAppName
PARSE_DASHBOARD_USER_ID=your_dashboard_username
PARSE_DASHBOARD_USER_PASSWORD=your_secure_dashboard_password

# ============================================
# SETUP INSTRUCTIONS
# ============================================
# 1. Copy this file: cp .env.diagnostic .env.diagnostic.local
# 2. Copy values from your production .env file
# 3. Ensure Cosmos DB firewall allows your local IP:
#    az cosmosdb update --name YOUR_COSMOS_ACCOUNT \
#      --resource-group YOUR_RESOURCE_GROUP \
#      --ip-range-filter "YOUR_LOCAL_IP"
# 4. Run: docker-compose -f docker-compose.diagnostic.yml --env-file .env.diagnostic.local up
# 5. Check logs: docker-compose -f docker-compose.diagnostic.yml logs -f
